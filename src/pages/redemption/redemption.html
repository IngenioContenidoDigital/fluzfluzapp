<!--
  Generated template for the Redemption page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title text-center>REDENCIONES<button ion-button clear class="invisibleButton"></button></ion-title>
  </ion-navbar>

</ion-header>

<ion-content no-padding class="background-soft">
  <div class="ctn-background-white border-b-primary">
    <ion-grid>
      <ion-row>
        <ion-col>Fluz total:</ion-col>
        <ion-col col-4 text-right class="text-gray-normal">{{userData.fluzTotal}}</ion-col>
      </ion-row>
      <ion-row>
        <ion-col>Redención Total en Efectivo:</ion-col>
        <ion-col col-4 text-right class="text-gray-normal">COP ${{userData.totalSavings}}</ion-col>
      </ion-row>
    </ion-grid>
  </div>
  <div *ngIf="displayRedemption !== true"  class="ctn-background-white">
    <ion-grid>
      <ion-row>
        <ion-col>
          <ion-label text-center class="text-gray-normal wrap font-small">Aun no alcanzas el monto requerido para redimir tus Fluz por dinero, es necesario que tengas mínimo $45.000 COP acumulados para hacer tu solicitud de redención en efectivo.</ion-label>
          <ion-label text-center class="text-primary wrap font-small-normal">¡Te invitamos a seguir comprando y ganando Fluz!</ion-label>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>
  <div *ngIf="displayRedemption === true">
    <ion-label class="mount">MONTO</ion-label>
    <div class="ctn-background-white">
      <ion-grid>
        <ion-row class="border-b" (click)="selectedPayment(1)">
          <ion-col>Selección Monto: <span class="text-primary">{{userData.fluzTotal}} Fluz / COP ${{userData.totalSavings}}</span></ion-col>
          <ion-col col-2 text-right><ion-icon [name]="payment == 1 ? 'md-checkmark' : 'ios-arrow-forward'"></ion-icon></ion-col>
        </ion-row>
        <ion-row (click)="selectedPayment(2)">
          <ion-col>Selección Monto Parcial:</ion-col>
          <ion-col col-4 text-right><ion-icon [name]="payment == 2 ? 'md-checkmark' : 'ios-arrow-forward'"></ion-icon></ion-col>
        </ion-row>
        <div *ngIf="showFluzRange == true" [@slideIn]>
          <ion-row class="padding-h-8">
            <ion-col>
              <ion-range [min]="minValueRedemption" [max]="userData.fluzTotal" [(ngModel)]="valueRedemption.fluzTotal" color="danger" pin="true" debounce="500" (ionChange)="updateValuesRedemption('1')"></ion-range>
            </ion-col>
          </ion-row>
          <ion-row class="padding-number-fluz border-b">
            <ion-col col-6>
              <ion-input type="number" disabled="true" [value]="valueRedemption.fluzTotal" [(ngModel)]="valueRedemption.fluzTotal"></ion-input>
            </ion-col>
            <ion-col col-6>
              <ion-label class="font-semi-bold"> de {{userData.fluzTotal}} Fluz</ion-label>
            </ion-col>
          </ion-row>
        </div>
      </ion-grid>
    </div>
    <div class="ctn-background-white">
      <ion-grid>
        <ion-row>
          <ion-col>Fluz Disponibles después de Redención</ion-col>
          <ion-col col-4 text-right class="text-gray-normal">{{disponibleFluz.fluzTotal}} Fluz</ion-col>
        </ion-row>
        <ion-row>
          <ion-col>Redención en efectivo Disponible:</ion-col>
          <ion-col col-4 text-right class="text-gray-normal">COP ${{disponibleFluz.totalSavings}}</ion-col>
        </ion-row>
      </ion-grid>
    </div>
  </div>
  <div class="padding-10" *ngIf="valueRedemption.fluzTotal != 0 && displayRedemption === true" [@slideIn] (click)="goTo('FromOfRedemptionPage')">
    <button ion-button color="primary" block>SIGUIENTE</button>
  </div>
  <div class="spacer-25"></div>
  <div class="spacer-25"></div>
</ion-content>