<!--
  Generated template for the Redemption page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    <ion-navbar>
        <ion-title text-center>INFORMACION PERSONAL<button ion-button clear class="invisibleButton"></button></ion-title>
    </ion-navbar>
</ion-header>

<ion-content no-padding class="background-soft">
    <form [formGroup]="personalInformationForm">
        <div>
            <ion-label class="icon" text-center><ion-icon name="contact" class="icon-contact" text-center></ion-icon></ion-label>
            <div class="ctn-background-white">
                <ion-label class="title-segments" text-center>{{titlesegments}}</ion-label>
                <div class="segments">
                    <ion-segment [formControl]="personalInformationForm.controls['segmentselected']" (ionChange)="changeSegmentSelected()">
                        <ion-segment-button value="basic">
                            <ion-icon name="person"></ion-icon>
                        </ion-segment-button>
                        <ion-segment-button value="complementary">
                            <ion-icon name="people"></ion-icon>
                        </ion-segment-button>
                        <ion-segment-button value="location">
                            <ion-icon name="pin"></ion-icon>
                        </ion-segment-button>
                    </ion-segment>
                </div>
                <div [ngSwitch]="personalInformationForm.value['segmentselected']">
                    <ion-list *ngSwitchCase="'basic'">
                        <ion-grid>
                            <ion-row>
                                <ion-label stacked class="title">Titulo Social</ion-label>
                            </ion-row>
                            <ion-row radio-group (ionChange)="validateInput($event)" [formControl]="personalInformationForm.controls['id_gender']">
                                <ion-col><ion-label class="margin-5">Sr.</ion-label></ion-col>
                                <ion-col><ion-radio value="1" class="margin-5"></ion-radio></ion-col>
                                <ion-col><ion-label class="margin-5">Sra.</ion-label></ion-col>
                                <ion-col><ion-radio value="2" class="margin-5"></ion-radio></ion-col>
                            </ion-row>                                
                        </ion-grid>
                        <ion-item>
                            <ion-label stacked>Nombre</ion-label>
                            <ion-input type="text" (keyup)="validateInput($event)" [formControl]="personalInformationForm.controls['firstname']"></ion-input>
                        </ion-item>
                        <ion-item>
                            <ion-label stacked>Apellido</ion-label>
                            <ion-input type="text" (keyup)="validateInput($event)" [formControl]="personalInformationForm.controls['lastname']"></ion-input>
                        </ion-item>
                        <ion-item>
                            <ion-label stacked>Correo electrónico</ion-label>
                            <ion-input type="email" readonly disabled="true" (keyup)="validateInput($event)" [formControl]="personalInformationForm.controls['email']"></ion-input>
                        </ion-item>
                        <ion-item>
                            <ion-label stacked>Identificación</ion-label>
                            <ion-input type="number" readonly disabled="true" (keyup)="validateInput($event)" [formControl]="personalInformationForm.controls['dni']"></ion-input>
                        </ion-item>
                        <ion-item>
                            <ion-label stacked>Fecha de nacimiento</ion-label>
                            <ion-datetime displayFormat="DD/MM/YYYY" pickerFormat="DD MM YYYY" placeholder="DD/MM/YYYY" doneText="OK" cancelText="Cancelar" (ionChange)="validateInput($event)" [formControl]="personalInformationForm.controls['birthday']"></ion-datetime>
                        </ion-item>
                    </ion-list>
                    <ion-list *ngSwitchCase="'complementary'">
                        <ion-item>
                            <ion-label stacked>Estado civil</ion-label>
                            <ion-select okText="OK" cancelText="Cancelar" (ionChange)="validateInput($event)" [formControl]="personalInformationForm.controls['civil_status']">
                                <ion-option value="Soltero">Soltero</ion-option>
                                <ion-option value="Casado">Casado</ion-option>
                                <ion-option value="Separado">Separado</ion-option>
                                <ion-option value="Divorciado">Divorciado</ion-option>
                                <ion-option value="Viudo">Viudo</ion-option>
                                <ion-option value="Religioso">Religioso</ion-option>
                                <ion-option value="Union Libre">Union Libre</ion-option>
                            </ion-select>
                        </ion-item>
                        <ion-item>
                            <ion-label stacked>Ocupación</ion-label>
                            <ion-select okText="OK" cancelText="Cancelar" (ionChange)="validateInput($event)" [formControl]="personalInformationForm.controls['occupation_status']">
                                <ion-option value="Empleado">Empleado</ion-option>
                                <ion-option value="Ama de Casa">Ama de Casa</ion-option>
                                <ion-option value="Jubilado">Jubilado</ion-option>
                                <ion-option value="Estudiante">Estudiante</ion-option>
                                <ion-option value="Independente">Independente</ion-option>
                                <ion-option value="Otra Profesion">Otra Profesion</ion-option>
                            </ion-select>
                        </ion-item>
                        <ion-item>
                            <ion-label stacked>Empresa</ion-label>
                            <ion-input type="text" (keyup)="validateInput($event)" [formControl]="personalInformationForm.controls['field_work']"></ion-input>
                        </ion-item>
                        <ion-item>
                            <ion-label stacked>Mascota</ion-label>
                            <ion-select okText="OK" cancelText="Cancelar" (ionChange)="validateInput($event)" [formControl]="personalInformationForm.controls['pet']">
                                <ion-option value="Perro">Perro</ion-option>
                                <ion-option value="Gato">Gato</ion-option>
                                <ion-option value="Pez">Pez</ion-option>
                                <ion-option value="Otro">Otro</ion-option>
                                <ion-option value="No">No</ion-option>
                            </ion-select>
                        </ion-item>
                        <ion-item>
                            <ion-label stacked>Nombre mascota</ion-label>
                            <ion-input type="text" (keyup)="validateInput($event)" [formControl]="personalInformationForm.controls['pet_name']"></ion-input>
                        </ion-item>
                        <ion-item>
                            <ion-label stacked>Nombre espos@</ion-label>
                            <ion-input type="text" (keyup)="validateInput($event)" [formControl]="personalInformationForm.controls['spouse_name']"></ion-input>
                        </ion-item>
                        <ion-item>
                            <ion-label stacked>Numero de hijos</ion-label>
                            <ion-input type="number"(keyup)="validateInput($event)" [formControl]="personalInformationForm.controls['children']"></ion-input>
                        </ion-item>
                    </ion-list>
                    <ion-list *ngSwitchCase="'location'">
                        <ion-item>
                            <ion-label stacked>Operador movil</ion-label>
                            <ion-select okText="OK" cancelText="Cancelar" (ionChange)="validateInput($event)" [formControl]="personalInformationForm.controls['phone_provider']">
                                <ion-option *ngFor="let phoneProvider of phoneProviders" [value] = "phoneProvider.name">{{phoneProvider.name}}</ion-option>
                            </ion-select>
                        </ion-item>
                        <ion-item>
                            <ion-label stacked>Telefono móvil</ion-label>
                            <ion-input type="number" (keyup)="validateInput($event)" [formControl]="personalInformationForm.controls['phone']"></ion-input>
                        </ion-item>
                        <ion-item>
                            <ion-label stacked>Dirección</ion-label>
                            <ion-input type="text" (keyup)="validateInput($event)" [formControl]="personalInformationForm.controls['address1']"></ion-input>
                        </ion-item>
                        <ion-item>
                            <ion-label stacked>Complemento dirección</ion-label>
                            <ion-input type="text" (keyup)="validateInput($event)" [formControl]="personalInformationForm.controls['address2']"></ion-input>
                        </ion-item>
                        <ion-item>
                            <ion-label stacked>Ciudad</ion-label>
                            <ion-select okText="OK" cancelText="Cancelar" (ionChange)="validateInput($event)" [formControl]="personalInformationForm.controls['city']">
                                <ion-option *ngFor="let city of cities" [value] = "city.name">{{city.name}}</ion-option>
                            </ion-select>
                        </ion-item>
                    </ion-list>
                </div>
                <button ion-button block (click)="changePassword(personalInformationForm.value)">Cambiar Contraseña</button>
            </div>
        </div>
        <div class="spacer-25"></div>
        <div class="spacer-25"></div>
    </form>
</ion-content>

<ion-footer [@slideIn] *ngIf="enabledSaveButton" (click)="save(personalInformationForm.value)">
    <ion-toolbar color="primary">
        <ion-title>GUARDAR</ion-title>
    </ion-toolbar>
</ion-footer>