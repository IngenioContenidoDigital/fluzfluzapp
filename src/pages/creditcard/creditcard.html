<!--
  Generated template for the creditcart page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    <ion-navbar>
        <ion-title class="text-dark" text-center>TARJETA CRÉDITO<button ion-button clear class="invisibleButton"></button></ion-title>
    </ion-navbar>
</ion-header>

<ion-content no-padding class="background-soft">
    <form [formGroup]="creditCardForm">
        <div class="ctn-credit-card background-white">
            <ion-row class="border-b">
                <ion-col col-12>
                    <ion-item>
                        <ion-input text-center type="text" placeholder="Nombre del titular" (keyup)="validateInputCreditCard($event)" [formControl]="creditCardForm.controls['namecard']"></ion-input>
                    </ion-item>
                </ion-col>
            </ion-row>
            <ion-row class="border-b">
                <ion-col [ngClass]="cardSaved ? col-10 : col-12">
                    <ion-item>
                        <i class='fluz-tarjeta' item-left></i>
                        <ion-input type="{{inputcardtype}}" placeholder="Número de tarjeta" (keyup)="validateInputCreditCard($event)" [formControl]="creditCardForm.controls['numbercard']"></ion-input>
                    </ion-item>
                </ion-col>
                <ion-col col-2 *ngIf="cardSaved">
                    <ion-item class="iconviewcard" text-center>
                        <ion-icon name="{{iconview}}" (click)="viewCard()"></ion-icon>
                    </ion-item>
                </ion-col>
            </ion-row>
            <ion-row class="border-b">
                <ion-col col-6 class="border-r">
                    <ion-item>
                        <ion-datetime displayFormat="MM/YYYY" pickerFormat="MM YYYY" placeholder="MM/YYYY" doneText="OK" cancelText="Cancelar" [min]="yearMin" [max]="yearMax" (ionChange)="validateInputCreditCard($event)" [formControl]="creditCardForm.controls['datecard']"></ion-datetime>
                    </ion-item>
                </ion-col>
                <ion-col col-6>
                    <ion-item>
                        <ion-input type="password" placeholder="CVV" (keyup)="validateInputCreditCard($event)" [formControl]="creditCardForm.controls['codecard']"></ion-input>
                    </ion-item>
                </ion-col>
            </ion-row>
            <ion-row class="border-b">
                <ion-col col-12>
                    <ion-item class="checkautorizationcard">
                        <ion-label>Autorizo a FluzFluz a guardar esta tarjeta para ser utilizada en próximas compras.</ion-label>
                        <ion-checkbox [formControl]="creditCardForm.controls['checkautorizationcard']"></ion-checkbox>
                    </ion-item>
                </ion-col>
            </ion-row>
        </div>
    </form>
</ion-content>

<ion-footer [@slideIn] *ngIf="enabledPayButton" (click)="pay(creditCardForm.value)">
  <ion-toolbar color="primary">
    <ion-title>PAGAR</ion-title>
  </ion-toolbar>
</ion-footer>